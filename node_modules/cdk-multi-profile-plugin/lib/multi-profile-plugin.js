"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MultiProfilePlugin = void 0;
const ini_file_credential_provider_source_1 = require("./ini-file-credential-provider-source");
class MultiProfilePlugin {
    constructor(profiles, filename) {
        this.profiles = profiles;
        this.filename = filename;
        this.version = '1';
    }
    init(host) {
        if (process.env.IGNORE_CDK_MULTI_PROFILE_PLUGIN) {
            return;
        }
        host.registerCredentialProviderSource(new ini_file_credential_provider_source_1.IniFileCredentialProviderSource('cdk-multi-profile-plugin', this.profiles, this.filename));
    }
}
exports.MultiProfilePlugin = MultiProfilePlugin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGktcHJvZmlsZS1wbHVnaW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvbXVsdGktcHJvZmlsZS1wbHVnaW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsK0ZBQXdGO0FBRXhGLE1BQWEsa0JBQWtCO0lBRzdCLFlBQ21CLFFBQW1DLEVBQ25DLFFBQWdCO1FBRGhCLGFBQVEsR0FBUixRQUFRLENBQTJCO1FBQ25DLGFBQVEsR0FBUixRQUFRLENBQVE7UUFKbkIsWUFBTyxHQUFHLEdBQUcsQ0FBQztJQUszQixDQUFDO0lBRUcsSUFBSSxDQUFDLElBQWdCO1FBQzFCLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsRUFBRTtZQUMvQyxPQUFPO1NBQ1I7UUFFRCxJQUFJLENBQUMsZ0NBQWdDLENBQ25DLElBQUkscUVBQStCLENBQ2pDLDBCQUEwQixFQUMxQixJQUFJLENBQUMsUUFBUSxFQUNiLElBQUksQ0FBQyxRQUFRLENBQ2QsQ0FDRixDQUFDO0lBQ0osQ0FBQztDQUNGO0FBckJELGdEQXFCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBsdWdpbiwgUGx1Z2luSG9zdCB9IGZyb20gJ2F3cy1jZGsnO1xuXG5pbXBvcnQgeyBJbmlGaWxlQ3JlZGVudGlhbFByb3ZpZGVyU291cmNlIH0gZnJvbSAnLi9pbmktZmlsZS1jcmVkZW50aWFsLXByb3ZpZGVyLXNvdXJjZSc7XG5cbmV4cG9ydCBjbGFzcyBNdWx0aVByb2ZpbGVQbHVnaW4gaW1wbGVtZW50cyBQbHVnaW4ge1xuICBwdWJsaWMgcmVhZG9ubHkgdmVyc2lvbiA9ICcxJztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHByb2ZpbGVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgZmlsZW5hbWU6IHN0cmluZyxcbiAgKSB7fVxuXG4gIHB1YmxpYyBpbml0KGhvc3Q6IFBsdWdpbkhvc3QpOiB2b2lkIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuSUdOT1JFX0NES19NVUxUSV9QUk9GSUxFX1BMVUdJTikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhvc3QucmVnaXN0ZXJDcmVkZW50aWFsUHJvdmlkZXJTb3VyY2UoXG4gICAgICBuZXcgSW5pRmlsZUNyZWRlbnRpYWxQcm92aWRlclNvdXJjZShcbiAgICAgICAgJ2Nkay1tdWx0aS1wcm9maWxlLXBsdWdpbicsXG4gICAgICAgIHRoaXMucHJvZmlsZXMsXG4gICAgICAgIHRoaXMuZmlsZW5hbWUsXG4gICAgICApLFxuICAgICk7XG4gIH1cbn1cbiJdfQ==