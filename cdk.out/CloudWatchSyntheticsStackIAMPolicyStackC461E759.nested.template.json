{
  "Resources": {
    "AllowSSMIAMManagedPolicy": {
      "Type": "AWS::IAM::ManagedPolicy",
      "Properties": {
        "PolicyDocument": {
          "Version": "2012-10-17",
          "Statement": [
            {
              "Sid": "VisualEditor0",
              "Effect": "Allow",
              "Action": [
                "ssm:DescribeParameters",
                "ssm:GetParameters",
                "ssm:GetParameter"
              ],
              "Resource": "*"
            }
          ]
        },
        "ManagedPolicyName": "AllowSSM",
        "Path": "/"
      },
      "Metadata": {
        "aws:cdk:path": "CloudWatchSyntheticsStack/IAMPolicyStack/AllowSSMIAMManagedPolicy"
      }
    },
    "CloudWatchSyntheticsPolicy": {
      "Type": "AWS::IAM::ManagedPolicy",
      "Properties": {
        "PolicyDocument": {
          "Version": "2012-10-17",
          "Statement": [
            {
              "Effect": "Allow",
              "Action": "cloudwatch:PutMetricData",
              "Resource": "*",
              "Condition": {
                "StringEquals": {
                  "cloudwatch:namespace": "CloudWatchSynthetics"
                }
              }
            },
            {
              "Effect": "Allow",
              "Action": [
                "s3:PutObject",
                "logs:CreateLogStream",
                "logs:CreateLogGroup",
                "logs:PutLogEvents",
                "s3:GetBucketLocation"
              ],
              "Resource": [
                "arn:aws:logs:us-east-1:699678132176:log-group:/aws/lambda/cwsyn-*",
                "arn:aws:s3:::cw-syn-results-699678132176-us-east-1/canary/*"
              ]
            },
            {
              "Effect": "Allow",
              "Action": [
                "ec2:CreateNetworkInterface",
                "s3:ListAllMyBuckets",
                "ec2:DescribeNetworkInterfaces",
                "ec2:DeleteNetworkInterface",
                "xray:*"
              ],
              "Resource": "*"
            }
          ]
        },
        "ManagedPolicyName": "CloudWatchSyntheticsPolicy",
        "Path": "/"
      },
      "Metadata": {
        "aws:cdk:path": "CloudWatchSyntheticsStack/IAMPolicyStack/CloudWatchSyntheticsPolicy"
      }
    },
    "CDKMetadata": {
      "Type": "AWS::CDK::Metadata",
      "Properties": {
        "Modules": "aws-cdk=1.78.0,@aws-cdk/assets=1.77.0,@aws-cdk/aws-cloudwatch=1.77.0,@aws-cdk/aws-events=1.77.0,@aws-cdk/aws-iam=1.77.0,@aws-cdk/aws-kms=1.77.0,@aws-cdk/aws-s3=1.77.0,@aws-cdk/aws-s3-assets=1.77.0,@aws-cdk/aws-synthetics=1.77.0,@aws-cdk/cloud-assembly-schema=1.77.0,@aws-cdk/core=1.77.0,@aws-cdk/cx-api=1.77.0,@aws-cdk/region-info=1.77.0,jsii-runtime=node.js/v12.13.0"
      },
      "Metadata": {
        "aws:cdk:path": "CloudWatchSyntheticsStack/IAMPolicyStack/CDKMetadata/Default"
      }
    }
  }
}